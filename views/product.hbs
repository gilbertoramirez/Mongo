<script type="text/javascript">
let productList = document.createElement('ul')
let myHeaders = new Headers();
myHeaders.append('Authorization', `Bearer ${localStorage.token}`)

console.log(localStorage.token)

fetch('/api/products', {
    method: 'GET',
    headers: myHeaders
})
.then(res => res.json())
.then(data => {
    data.products.map(products => {
        let text = document.createTextNode(products.name)
        let elem = document.createElement('li')
        elem.appendChild(text)
        productList.appendChild(elem)
    })

    document.body.appendChild(productList)
})

</script>